{% extends 'base.html' %}
{% load static %}

{% block title %}Barbearia Francisco - Tradição e Estilo desde 2004{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/design-system.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section (extraído de Home.tsx linha 1-200) -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <span class="hero-subtitle">TRADIÇÃO ITALIANA • ESTILO CLÁSSICO</span>
                
                <h1 class="hero-title">
                    A Arte do <span class="gradient-text">Cuidado Masculino</span>
                </h1>
                
                <p class="hero-description">
                    Mais que uma barbearia, uma experiência única que combina tradição italiana 
                    com técnicas modernas. Cada corte é uma obra de arte, cada cliente é tratado como VIP.
                </p>
                
                <div class="hero-buttons">
                    <a href="{% url 'agendar' %}" class="btn btn-premium btn-xl">
                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        Agendar Horário
                    </a>
                    <a href="{% url 'servicos' %}" class="btn btn-outline btn-xl">
                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                            <path d="M9 3v18"/>
                            <path d="m15 9 3 3-3 3"/>
                        </svg>
                        Ver Serviços
                    </a>
                </div>
            </div>
            
            <!-- Floating Images (extraído de Home.tsx linha 202-250) -->
            <div class="hero-image">
                <div class="floating-frame" style="width: 280px; height: 350px; top: 0; right: 0; animation-delay: 0s; --rotation: -5deg;">
                    <img src="{% static 'images/gallery/corte-classico.jpg' %}" alt="Corte Clássico" loading="lazy" onerror="this.src='https://via.placeholder.com/280x350/2C1810/C9A961?text=Corte+Classico'">
                    <div class="frame-title">Corte Clássico</div>
                </div>
                <div class="floating-frame" style="width: 240px; height: 300px; top: 120px; right: 300px; animation-delay: 0.5s; --rotation: 5deg;">
                    <img src="{% static 'images/gallery/corte-barba.jpg' %}" alt="Corte & Barba" loading="lazy" onerror="this.src='https://via.placeholder.com/240x300/2C1810/C9A961?text=Corte+Barba'">
                    <div class="frame-title">Corte & Barba</div>
                </div>
                <div class="floating-frame" style="width: 200px; height: 250px; bottom: 80px; right: 50px; animation-delay: 1s; --rotation: -3deg;">
                    <img src="{% static 'images/gallery/barba-completa.jpg' %}" alt="Barba Premium" loading="lazy" onerror="this.src='https://via.placeholder.com/200x250/2C1810/C9A961?text=Barba+Premium'">
                    <div class="frame-title">Barba Premium</div>
                </div>
                <div class="floating-frame" style="width: 180px; height: 220px; bottom: 60px; right: 280px; animation-delay: 1.5s; --rotation: 7deg;">
                    <img src="{% static 'images/gallery/bigode.jpg' %}" alt="Estilo Bigode" loading="lazy" onerror="this.src='https://via.placeholder.com/180x220/2C1810/C9A961?text=Estilo+Bigode'">
                    <div class="frame-title">Estilo Bigode</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Sobre Seção (extraído de Home.tsx linha 300-350) -->
<section class="about-section">
    <div class="container">
        <div class="section-header animate-slide-up">
            <h2>Uma Tradição de 20 Anos</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="about-content animate-scale-in">
            <p>
                Desde <strong>2004</strong>, a Barbearia Francisco tem sido referência em São Paulo 
                quando o assunto é cuidado masculino de alto padrão. Fundada por Francisco Barbosa, 
                um mestre barbeiro formado na tradicional escola italiana de Nápoles, nossa barbearia 
                une o melhor da tradição europeia com a hospitalidade brasileira.
            </p>
            <p>
                Cada profissional da nossa equipe passou por treinamento rigoroso e possui 
                <strong>certificação internacional</strong>. Utilizamos apenas produtos premium importados, 
                garantindo não apenas um resultado estético impecável, mas também o cuidado e a saúde 
                de seus cabelos e barba.
            </p>
            <p>
                Nosso ambiente vintage cuidadosamente decorado transporta você para a era dourada 
                das barbearias clássicas. Aqui, cada detalhe foi pensado para proporcionar uma 
                <strong>experiência única e memorável</strong>.
            </p>
        </div>
    </div>
</section>

<!-- Features Seção (extraído de Home.tsx linha 28-49) -->
<section class="features-section">
    <div class="container">
        <div class="features-grid">
            <div class="feature-card" style="animation-delay: 0ms;">
                <div class="feature-icon">
                    <svg width="32" height="32" fill="none" stroke="var(--color-gold)" stroke-width="2">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                </div>
                <h3>20 Anos de Tradição</h3>
                <p>Experiência comprovada no cuidado masculino</p>
            </div>
            
            <div class="feature-card" style="animation-delay: 100ms;">
                <div class="feature-icon">
                    <svg width="32" height="32" fill="none" stroke="var(--color-gold)" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                </div>
                <h3>Barbeiros Especializados</h3>
                <p>Profissionais qualificados e experientes</p>
            </div>
            
            <div class="feature-card" style="animation-delay: 200ms;">
                <div class="feature-icon">
                    <svg width="32" height="32" fill="none" stroke="var(--color-gold)" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </div>
                <h3>Horário Flexível</h3>
                <p>Funcionamento de segunda a sábado</p>
            </div>
            
            <div class="feature-card" style="animation-delay: 300ms;">
                <div class="feature-icon">
                    <svg width="32" height="32" fill="none" stroke="var(--color-gold)" stroke-width="2">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                </div>
                <h3>Avaliação 5 Estrelas</h3>
                <p>Reconhecido pela qualidade do serviço</p>
            </div>
        </div>
    </div>
</section>

<!-- Services Preview -->
<section class="section">
    <div class="container">
        <div class="section-header animate-slide-up">
            <h2>Nossos Serviços Premium</h2>
            <div class="section-divider"></div>
            <p style="margin-top: 1rem; font-size: 1.125rem; color: var(--color-brown-light);">
                Cada serviço é uma experiência completa de cuidado e estilo
            </p>
        </div>
        
        <div class="gallery-grid">
            <div class="gallery-item animate-scale-in" style="animation-delay: 0s;">
                <img src="{% static 'images/gallery/corte-classico.jpg' %}" alt="Corte Clássico" loading="lazy" onerror="this.src='https://via.placeholder.com/400x400/2C1810/C9A961?text=Corte+Classico'">
                <div class="title">Corte Clássico</div>
            </div>
            
            <div class="gallery-item animate-scale-in" style="animation-delay: 0.1s;">
                <img src="{% static 'images/gallery/barba-completa.jpg' %}" alt="Barba Completa" loading="lazy" onerror="this.src='https://via.placeholder.com/400x400/2C1810/C9A961?text=Barba+Completa'">
                <div class="title">Barba Completa</div>
            </div>
            
            <div class="gallery-item animate-scale-in" style="animation-delay: 0.2s;">
                <img src="{% static 'images/gallery/corte-barba.jpg' %}" alt="Corte & Barba" loading="lazy" onerror="this.src='https://via.placeholder.com/400x400/2C1810/C9A961?text=Corte+Barba'">
                <div class="title">Corte & Barba</div>
            </div>
            
            <div class="gallery-item animate-scale-in" style="animation-delay: 0.3s;">
                <img src="{% static 'images/gallery/bigode.jpg' %}" alt="Bigode Estilizado" loading="lazy" onerror="this.src='https://via.placeholder.com/400x400/2C1810/C9A961?text=Bigode'">
                <div class="title">Bigode Estilizado</div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 3rem;">
            <a href="{% url 'servicos' %}" class="btn btn-premium btn-lg">
                Ver Todos os Serviços
            </a>
        </div>
    </div>
</section>

<!-- Team Section (extraído de TeamSection.tsx) -->
<section class="section" style="background: var(--color-brown-dark);">
    <div class="container">
        <div class="section-header animate-slide-up">
            <h2>Nossa Equipe de Mestres</h2>
            <div class="section-divider"></div>
            <p style="margin-top: 1rem; font-size: 1.125rem; color: var(--color-brown-light);">
                Profissionais certificados e apaixonados pela arte da barbearia
            </p>
        </div>
        
        <div id="teamContainer" class="features-grid">
            <!-- Carregado via JavaScript -->
            <div class="feature-card">
                <div class="feature-icon">
                    <div class="animate-spin" style="width: 2rem; height: 2rem; border: 3px solid var(--color-gold); border-top-color: transparent; border-radius: 50%;"></div>
                </div>
                <p style="color: var(--color-brown-light);">Carregando equipe...</p>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Carousel (extraído de TestimonialsCarousel.tsx) -->
<section class="section">
    <div class="container">
        <div class="section-header animate-slide-up">
            <h2>O Que Dizem Nossos Clientes</h2>
            <div class="section-divider"></div>
            <p style="margin-top: 1rem; font-size: 1.125rem; color: var(--color-brown-light);">
                Mais de 5.000 clientes satisfeitos em 8 anos
            </p>
        </div>
        
        {% include 'components/testimonials.html' %}
    </div>
</section>

<!-- CTA Banner (extraído de CTABanner.tsx) -->
<section class="cta-section">
    <div class="container">
        <h2 class="animate-slide-up">Transforme Seu Visual Hoje</h2>
        <p class="animate-slide-up" style="animation-delay: 0.1s;">
            Não deixe para amanhã o estilo que você pode ter hoje
        </p>
        
        <div class="cta-buttons animate-slide-up" style="animation-delay: 0.2s;">
            <a href="{% url 'agendar' %}" class="btn btn-premium btn-xl">
                Agendar Meu Horário
            </a>
            
            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                <a href="tel:+551134567890" style="display: flex; align-items: center; gap: 0.5rem; color: var(--color-cream); font-size: 1.125rem; font-weight: 500;">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    (11) 3456-7890
                </a>
                
                <div style="width: 1px; height: 1.5rem; background: hsla(38, 46%, 91%, 0.3);"></div>
                
                <a href="https://wa.me/5545999417111?text=Olá! Gostaria de agendar um horário" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; gap: 0.5rem; color: var(--color-cream); font-size: 1.125rem; font-weight: 500;">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                    </svg>
                    WhatsApp
                </a>
            </div>
        </div>
    </div>
    <div class="border-bottom"></div>
</section>

<!-- CTA Banner -->
{% include 'components/cta_banner.html' with headline="Transforme Seu Visual Hoje" subheadline="Não deixe para amanhã o estilo que você pode ter hoje" button_text="Agendar Meu Horário" button_link="/agendar/" show_contact=True phone="4599417111" phone_display="(45) 99941-7111" whatsapp_clean="5545999417111" %}

{% endblock %}

{% block extra_js %}
<script>
// Carregar equipe de barbeiros (extraído de TeamSection.tsx)
async function loadTeam() {
    try {
        const response = await fetch('/api/barbeiros/');
        const barbers = await response.json();
        
        const container = document.getElementById('teamContainer');
        if (barbers.length === 0) {
            container.innerHTML = '<p style="text-align: center; color: var(--color-brown-light);">Nossa equipe estará disponível em breve</p>';
            return;
        }
        
        container.innerHTML = barbers
            .filter(b => b.active)
            .map((barber, index) => `
                <div class="feature-card animate-scale-in" style="animation-delay: ${index * 0.1}s;">
                    <div class="feature-icon" style="width: 8rem; height: 8rem; font-size: 2.5rem; position: relative;">
                        <div style="position: absolute; inset: -10px; background: var(--gradient-gold); border-radius: 50%; filter: blur(20px); opacity: 0;"></div>
                        <div style="width: 100%; height: 100%; border-radius: 50%; border: 4px solid hsla(43, 38%, 59%, 0.3); display: flex; align-items: center; justify-content: center; font-family: 'Playfair Display', serif; font-weight: 700; color: var(--color-gold); background: hsla(43, 38%, 59%, 0.1); position: relative; z-index: 10; overflow: hidden;">
                            ${barber.photo ? 
                                `<img src="${barber.photo}" alt="${barber.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" onerror="this.style.display='none'; this.parentElement.innerHTML='${barber.name.split(' ').map(n => n[0]).join('').slice(0, 2)}';">` : 
                                barber.name.split(' ').map(n => n[0]).join('').slice(0, 2)
                            }
                        </div>
                    </div>
                    <h3>${barber.name}</h3>
                    ${barber.specialty ? `<p style="font-size: 0.875rem; color: var(--color-brown-light); margin-bottom: 1rem;">${barber.specialty}</p>` : ''}
                    ${barber.bio ? `<p style="font-size: 0.875rem; color: var(--color-brown-light); line-height: 1.6;">${barber.bio}</p>` : ''}
                    ${barber.phone ? `
                        <a href="https://wa.me/${barber.phone.replace(/\D/g, '')}" target="_blank" class="btn btn-outline btn-sm" style="margin-top: 1rem;">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            Contato
                        </a>
                    ` : ''}
                </div>
            `).join('');
    } catch (error) {
        console.error('Erro ao carregar equipe:', error);
        document.getElementById('teamContainer').innerHTML = '<p style="text-align: center; color: var(--color-brown-light);">Erro ao carregar equipe</p>';
    }
}

// Inicializar ao carregar página
document.addEventListener('DOMContentLoaded', loadTeam);
</script>
{% endblock %}
