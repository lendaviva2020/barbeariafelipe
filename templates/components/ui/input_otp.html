{# OTP Input Component #}
{% comment %}
Uso:
{% include 'components/ui/input_otp.html' with name="otp_code" length=6 %}
{% endcomment %}

<div class="flex items-center gap-2" data-otp-input>
    {% for i in "123456"|make_list|slice:":"|add:length|default:6 %}
    <div class="relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md focus-within:z-10 focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-background">
        <input
            type="text"
            maxlength="1"
            class="absolute inset-0 text-center bg-transparent border-0 outline-none"
            data-otp-digit="{{ forloop.counter0 }}"
            {% if forloop.first %}autofocus{% endif %}
        />
    </div>
    {% endfor %}
    
    <input type="hidden" name="{{ name }}" data-otp-value />
</div>

