{% extends 'base.html' %}
{% load static %}

{% block title %}Galeria - Barbearia Francisco{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/gallery.css' %}">
{% endblock %}

{% block content %}
<div class="min-h-screen py-8">
    <!-- Header -->
    <div class="container mx-auto px-4 mb-12">
        <div class="text-center animate-slide-down">
            <p class="section-subtitle">Portf√≥lio</p>
            <h1 class="section-title">Nossos Trabalhos</h1>
            <p class="section-description">
                Cada corte √© uma obra de arte. Confira nosso portf√≥lio de transforma√ß√µes.
            </p>
        </div>
    </div>

    <!-- Filters -->
    <div class="container mx-auto px-4 mb-8">
        <div class="filter-buttons animate-slide-up" id="filterButtons">
            <button class="filter-btn active" data-category="all">Todos</button>
            <button class="filter-btn" data-category="cortes">Cortes</button>
            <button class="filter-btn" data-category="barbas">Barbas</button>
            <button class="filter-btn" data-category="antes-depois">Antes/Depois</button>
            <button class="filter-btn" data-category="ambiente">Ambiente</button>
        </div>
        
        <!-- Counter -->
        <div class="text-center mt-4">
            <p class="text-sm text-muted" id="imageCounter">
                Carregando imagens...
            </p>
        </div>
    </div>

    <!-- Loading State -->
    <div id="loadingState" class="container mx-auto px-4">
        <div class="gallery-loading">
            <div class="loading-spinner"></div>
            <p>Carregando galeria...</p>
        </div>
    </div>

    <!-- Gallery Grid (Masonry) -->
    <div class="container mx-auto px-4 mb-16" id="galleryContainer" style="display: none;">
        <div class="gallery-masonry" id="galleryGrid">
            <!-- Images loaded dynamically -->
        </div>
    </div>

    <!-- Empty State -->
    <div id="emptyState" class="container mx-auto px-4" style="display: none;">
        <div class="empty-gallery">
            <span class="empty-icon">üñºÔ∏è</span>
            <h3>Nenhuma imagem encontrada</h3>
            <p id="emptyMessage">Nenhuma imagem na categoria selecionada.</p>
        </div>
    </div>
</div>

<!-- Lightbox Modal -->
<div id="lightbox" class="lightbox" style="display: none;">
    <button class="lightbox-close" onclick="closeLightbox()" aria-label="Fechar">
        <span>&times;</span>
    </button>
    
    <button class="lightbox-nav lightbox-prev" onclick="previousImage()" aria-label="Anterior">
        <span>‚Äπ</span>
    </button>
    
    <button class="lightbox-nav lightbox-next" onclick="nextImage()" aria-label="Pr√≥ximo">
        <span>‚Ä∫</span>
    </button>
    
    <div class="lightbox-container">
        <div class="lightbox-image-wrapper">
            <div class="lightbox-loading">
                <div class="loading-spinner"></div>
            </div>
            <img id="lightboxImage" src="" alt="" class="lightbox-image">
        </div>
        
        <div class="lightbox-info">
            <h3 id="lightboxTitle" class="lightbox-title"></h3>
            <span id="lightboxCategory" class="lightbox-category"></span>
            
            <div class="lightbox-actions">
                <button class="lightbox-btn" onclick="shareImage()">
                    <span>üîó</span> Compartilhar
                </button>
                <button class="lightbox-btn" onclick="downloadImage()">
                    <span>‚¨áÔ∏è</span> Baixar
                </button>
            </div>
            
            <p class="lightbox-counter" id="lightboxCounter">1 de 1</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/gallery.js' %}"></script>
{% endblock %}
